function rotateElement(e,i){var t="rotate("+i+"deg)";if(null!=e.css("MozTransform"))e.css("MozTransform",t);else if(null!=e.css("WebkitTransform"))e.css("WebkitTransform",t);else if(null!=e.css("filter")){var o=Math.cos(2*Math.PI/360*i),n=Math.sin(2*Math.PI/360*i);e.css("filter","progid:DXImageTransform.Microsoft.Matrix(M11="+o+",M12=-"+n+",M21="+n+",M22="+o+",SizingMethod='auto expand',FilterType='nearest neighbor')"),e.css("left",-Math.floor((e.width()-200)/2)),e.css("top",-Math.floor((e.height()-200)/2))}}function rotate(e,i,t,o,n){(o<=50?rotateElement(i,3.6*o):o<=100&&(rotateElement(i,180),rotateElement(t,3.6*(o-50))),void 0!==n)&&(n.html()<=o&&n.text(Math.round(o)));return o>=100}function klik(e){1==rozpoczeto&&($("#details").is(".open")?39==e.which||68==e.which||75==e.which||78==e.which||32==e.which||40==e.which||83==e.which||32==e.which?(navInfoActive("a_right"),zmianaBoxa("next"),e.preventDefault()):37==e.which||65==e.which||74==e.which||80==e.which||38==e.which||87==e.which?(navInfoActive("a_left"),zmianaBoxa("prev"),e.preventDefault()):27==e.which&&(closeWork(),e.preventDefault()):39==e.which||68==e.which||75==e.which||78==e.which||32==e.which?(navInfoActive("a_right"),$("#portfolio").is(".active")&&slidePortfolio("next"),$("#o").is(".active")&&slideAbout("next"),e.preventDefault()):37==e.which||65==e.which||74==e.which||80==e.which?(navInfoActive("a_left"),$("#portfolio").is(".active")&&slidePortfolio("prev"),$("#o").is(".active")&&slideAbout("prev"),e.preventDefault()):38==e.which||87==e.which?(changeSection("prev"),navInfoActive("a_up"),e.preventDefault()):40==e.which||83==e.which||32==e.which?(changeSection("next"),navInfoActive("a_down"),e.preventDefault()):13==e.which&&$("#portfolio").is(".active")&&$("#portfolio").find("li.active a").trigger("click"))}function navInfoActive(e){$(".navInfo ."+e).addClass("active").doTimeout(500,(function(){$(this).removeClass("active")}))}function slidePortfolio(e,i){var t=$("#portfolio li.active");if(null==i)if("next"==e)if(t.next().length>0)var o=t.next("li");else o=$("#portfolio li:first");else if("prev"==e)if(t.prev().length>0)o=t.prev("li");else o=$("#portfolio li:last");else o=t;else o=$("#portfolio li:eq("+i+")");var n=o.index(),a=o.width()+20;$("#portfolio").find("li").removeClass("active"),o.addClass("active"),$("#portfolio").find("ul").stop(!0,!1).animate({marginLeft:-n*a},500)}function slideAbout(e,i){var t=$("#o").find(".part.active");if(null==i){if("next"==e)if(t.next(".part").length>0)var o=t.next(".part");else o=$("#o").find(".part:first");else if("prev"==e)if(t.prev(".part").length>0)o=t.prev(".part");else o=$("#o").find(".part:last")}else o=$("#o").find("#"+i);var n,a=o.index(),s=$(window).width();pokazSekcje("o",n=(n=new Array("me","skills","experience","education"))[a]),window.location.hash="about/"+n,$("#o").find(".part").removeClass("active"),o.addClass("active"),$("#o").find(".suwak").stop(!0,!1).animate({marginLeft:-a*s},750)}function changeSection(e,i){if(1!=dzialanie||null==dzialanie){if(dzialanie=1,(t=$("section.active")).length<1)var t=$("section:first");if("next"==e){if("details"==(o=t.next("section")).attr("id")&&!$("#details").hasClass("open"))var o=o.next("section")}else if("prev"==e){if("details"==(o=t.prev("section")).attr("id")&&!$("#details").hasClass("open"))o=o.prev("section")}if("special"==e){var n=$("#"+i).position();$("body, html").stop(!0,!1).animate({scrollTop:n.top},750,(function(){dzialanie=0}))}else if("welcome"==t.attr("id")&&"prev"==e)dzialanie=0;else if("kontakt"==t.attr("id")&&"next"==e)dzialanie=0;else if("details"==o.attr("id")){n=o.position();$("body, html").stop(!0,!1).animate({scrollTop:n.top},750,(function(){dzialanie=0}))}else{n=o.position();t.removeClass("active"),o.addClass("active"),$("body, html").stop(!0,!1).animate({scrollTop:n.top},750,(function(){dzialanie=0}))}}}function rozpocznijPokaz(){var e=$(window).scrollTop(),i=$(window).height();if($("#details").is(".open")){var t="work/"+$("#details").find(".level").attr("id");window.location.hash=t}else 0==scrolling&&$("section").quickEach((function(){var t=$(this).position("top").top;if(t-.5*i<e&&t+.5*i>e){var o=$(this).attr("id");if("about"==(n=$(this).attr("name")))var n="about/"+$("#o").find(".part.active").attr("name");if("work"==n)n="works";$("section").removeClass("active"),$(this).addClass("active"),pokazSekcje(o),window.location.hash=n}}))}function pokazSekcje(e,i){if(1==rozpoczeto)if("portfolio"==e){if($("#"+e).find(".part").is(".hide")){var t=$("#"+e+" li").length;$("#"+e).find(".part").removeClass("hide"),$("#"+e).find("li").quickEach((function(i){$(this).doTimeout(100*i+500,(function(){$("#"+e).find("li:nth-child("+parseInt(i+1)+")").removeClass("hide"),parseInt(i)==t&&$(this).removeClass("hide")}))}))}}else"o"==e?null==i||"me"==i?$("#info").is(".hide")&&($("#info").removeClass("hide"),$("#info").find(".tri span").quickEach((function(e){$(this).doTimeout(25*e,(function(){$(this).removeClass("oh")}))}))):"skills"==i?$("#umiejetnosci").is(".hide")&&($("#umiejetnosci").removeClass("hide"),$("#wykres").find(".linia").quickEach((function(e){$(this).delay(100*e).animate({width:"94%"},750)})),$("#wykres").find(".slupki li").quickEach((function(e){$(this).doTimeout(100*e+450,(function(){$(this).css({height:$(this).find(".wartosc").text()}).removeClass("active").removeClass("hidden")}))}))):"experience"==i?$("#doswiadczenie").is(".hide")&&($("#doswiadczenie").removeClass("hide"),$("#timeline").find(".time li").quickEach((function(e){$(this).find(".sep").delay(100*e).animate({height:"100%"},1500,(function(){$(this).parent().find(".rok").fadeIn(150)}))})),$("#timeline").find(".freelancer").delay(500).fadeIn((function(){$(this).find(".line span").animate({width:"100%"},1e3),$(this).find("li").quickEach((function(e){$(this).find(".kropka").delay(100*e+250).fadeIn(250,(function(){$(this).parent().find(".linia").animate({height:100},300).parent().find(".nazwa").fadeIn(500)}))}))})),$("#timeline").find(".hotmind").delay(750).fadeIn((function(){$(this).find(".line span").animate({width:"100%"},750),$(this).find("li").quickEach((function(e){$(this).find(".kropka").delay(100*e+250).fadeIn(250,(function(){$(this).parent().find(".linia").animate({height:100},300).parent().find(".nazwa").fadeIn(500)}))}))}))):"education"==i&&$("#wyksztalcenie").is(".hide")&&($("#wyksztalcenie").removeClass("hide"),$("#wyksztalcenie").find("ul li span").quickEach((function(e){$(this).css({width:0,height:0,top:"-3px"}).delay(100*e).animate({width:7,height:7,top:0},300)})),setInterval((function(){var e=parseInt($("#wyksztalcenie .geeks img.active").index())+1,i=$("#wyksztalcenie .geeks img").length,t=Math.floor(Math.random()*i)+1;t==e&&t++,$("#wyksztalcenie .geeks img").removeClass("active"),$("#wyksztalcenie .geeks img:nth-child("+t+")").addClass("active")}),1500)):$("#"+e).find(".part").is(".hide")&&$("#"+e).find(".part").removeClass("hide")}function checkScroll(){odleglosc=$("section.active").position(),0==scrolling&&(scrolling=1,$("body, html").stop().animate({scrollTop:odleglosc.top},400,(function(){scrolling=0})))}function sprawdzenieRozmiaru(e){var i=$(window).scrollTop(),t=$(window).height(),o="63px";if($("#details").is(".open")?$("header").addClass("works").addClass("small"):$("header").removeClass("works"),"resize"==e&&$("section").not("#details").css({height:t-parseInt(o),paddingTop:o}),1==rozpoczeto){var n=$("section.active").position();if("resize"==e){var a=$(window).width(),s=$("#o").find(".part.active").index();$("#o").find(".suwak").css({marginLeft:-s*a}),$("body, html").scrollTop(n.top)}if($("#details").is(".open")){n=$("#details").position();$("#details").css({height:t}),$("body, html").animate({scrollTop:n.top},0)}else"scroll"==e&&(rozpocznijPokaz(),scrolltime&&clearTimeout(scrolltime),scrolltime=setTimeout((function(){checkScroll()}),250),i>105?$("header").addClass("small"):$("header").removeAttr("class"))}else $(window).scrollTop(0)}function rozpoczecie(){var e=window.location.hash,i=$(window).height();$("#welcome").removeClass("hide").addClass("active").doTimeout(500,(function(){if($("header").removeClass("hide"),e.length>0){var t=e.slice(1).split("/");$("section").quickEach((function(){var e=$(this).attr("name");if(e==t[0]){scrolling=1;var o=$(this).position();$(this).addClass("active"),$("body, html").animate({scrollTop:o.top},o.top/i*750,(function(){if(scrolling=0,"about"==e&&null!=t[1]){if("me"==t[1])var i=0,o="info";else if("skills"==t[1])i=1,o="umiejetnosci";else if("experience"==t[1])i=2,o="doswiadczenie";else if("education"==t[1])i=3,o="wyksztalcenie";$("#o").find(".suwak").animate({marginLeft:-i*$(window).width()},750,(function(){pokazSekcje("o",t[1])})),$("#o").find(".part").removeClass("active"),$("#"+o).addClass("active"),window.location.hash="about/"+t[1]}}))}}))}rozpoczeto=1,sprawdzenieRozmiaru("resize")}))}function pozycjaBoxa(){if("block"!=$(".QOverlay").css("display")){$(window).height();var e=$(window).width(),i=$(".level .box.a"),t=i.position();$(".level .boxy").stop(!0,!1).animate({marginLeft:e/2-t.left-i.outerWidth()/2},750,(function(){}))}}function zmianaBoxa(e,i){var t=$("#details").find(".level .box.a");if("next"==e)if(t.next(".box").length>0)var o=t.next(".box");else o=t;else if("prev"==e)if(t.prev(".box").length>0)o=t.prev(".box");else o=t;if(void 0!==i)o=$("#details").find(".box:nth-child("+parseInt(i+1)+")");t.removeClass("a").addClass("u"),o.removeClass("u").addClass("a"),pozycjaBoxa()}function zmianaDetali(e){var i=$("#portfolio").find("li.active");if("next"==e)if(i.next("li").length>0)var t=i.next("li");else t=$("#portfolio").find("li:first");else if("prev"==e)if(i.prev("li").length>0)t=i.prev("li");else t=$("#portfolio").find("li:last");letsAjax(t.find("a").attr("href"),"change"),$("#portfolio").find("li.active").removeClass("active"),t.addClass("active")}function resize(){if($("#details").is(".open")&&$("#details").is(".active")){var e=($(window).height()-400)/2;$(".level").css({paddingTop:e+32,paddingBottom:e-32}),pozycjaBoxa()}}function letsAjax(e,i){$.ajax({url:e,type:"get",dataType:"html",cache:!1,error:function(){console.log("Olaboga! Jakiś ajaxowy error... no to się pewnie wsio posypało...")},beforeSend:function(){pozycja=$("#details").position(),$("section").removeClass("active"),$("#details").addClass("change").addClass("open").addClass("active").doTimeout(750,(function(){$(this).removeClass("change"),"no"!==i&&(QueryLoader.items=new Array,QueryLoader.doneStatus=0,QueryLoader.doneNow=0,QueryLoader.selectorPreload=".level",QueryLoader.init()),rozpocznijPokaz()})),sprawdzenieRozmiaru(),$("body, html").animate({scrollTop:pozycja.top},1e3)},complete:function(e){},success:function(e){if("change"==i){var t=$("#details").clone();$("#details").before('<div id="detailsCopy">'+t.html()+"</div>"),$("#detailsCopy").fadeOut(500,(function(){$(this).remove()}))}$("#details").find(".levele").html(e).find(".box:first").removeClass("u").addClass("a"),"no"!==i&&$("#details").find(".level").append('<div class="QOverlay"><div id="loader"><div class="circle"><div class="display"></div><div class="circleOverflow"><div class="rotate right"><div class="bg right"><span></span></div></div></div><div class="circleOverflow"><div class="rotate left"><div class="bg left"><span></span></div></div></div></div></div></div>'),resize(),pozycjaBoxa(),scrolling=0}})}function closeWork(){$("#details").addClass("change").removeClass("open").css({height:0}).doTimeout(750,(function(){$(this).removeClass("change").find(".levele .level").remove(),changeSection("next"),rozpocznijPokaz(),sprawdzenieRozmiaru("scroll"),slidePortfolio(),dzialanie=0,scrolling=0}))}rozpoczeto=0,dzialanie=0,scrolling=0,scrolltime=!1,function(e){var i={},t="doTimeout",o=Array.prototype.slice;function n(t){var n,a=this,s={},l=t?e.fn:e,r=arguments,c=4,d=r[1],f=r[2],h=r[3];function p(){t?n.removeData(t):d&&delete i[d]}function u(){s.id=setTimeout((function(){s.fn()}),f)}if("string"!=typeof d&&(c--,d=t=0,f=r[1],h=r[2]),t?(n=a.eq(0)).data(t,s=n.data(t)||{}):d&&(s=i[d]||(i[d]={})),s.id&&clearTimeout(s.id),delete s.id,h)s.fn=function(e){"string"==typeof h&&(h=l[h]),!0!==h.apply(a,o.call(r,c))||e?p():u()},u();else{if(s.fn)return void 0===f?p():s.fn(!1===f),!0;p()}}e[t]=function(){return n.apply(window,[0].concat(o.call(arguments)))},e.fn[t]=function(){var e=o.call(arguments),i=n.apply(this,[t+e[0]].concat(e));return"number"==typeof e[0]||"number"==typeof e[1]?this:i}}(jQuery),jQuery.fn.quickEach=function(){var e=jQuery([1]);return function(i){var t,o=-1,n=this.length;try{for(;++o<n&&(t=e[0]=this[o])&&!1!==i.call(e,o,t););}catch(i){throw delete e[0],i}return delete e[0],this}}(),function(e){var i=["DOMMouseScroll","mousewheel"];function t(i){var t=i||window.event,o=[].slice.call(arguments,1),n=0,a=0,s=0;return(i=e.event.fix(t)).type="mousewheel",i.wheelDelta&&(n=i.wheelDelta/120),i.detail&&(n=-i.detail/3),s=n,void 0!==t.axis&&t.axis===t.HORIZONTAL_AXIS&&(s=0,a=-1*n),void 0!==t.wheelDeltaY&&(s=t.wheelDeltaY/120),void 0!==t.wheelDeltaX&&(a=-1*t.wheelDeltaX/120),o.unshift(i,n,a,s),e.event.handle.apply(this,o)}e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),jQuery((function(e){e(document).bind("mousewheel",(function(i,t,o,n){if(1!=rozpoczeto)return!1;if(e("#details").is(".open")){var a=e("#details").position();return e("body, html").stop(!0,!1).animate({scrollTop:a.top},750),"1"==n?zmianaBoxa("prev"):"-1"==n&&zmianaBoxa("next"),1==scrolling&&(e("body, html").stop(!0,!1),scrolling=0),!1}1==scrolling&&(e("body, html").stop(!0,!1),scrolling=0)}))})),function(e){function i(i){if("string"==typeof i.data){var t=i.handler,o=i.data.toLowerCase().split(" ");i.handler=function(i){if(this===i.target||!/textarea|select/i.test(i.target.nodeName)&&"text"!==i.target.type){var n="keypress"!==i.type&&e.hotkeys.specialKeys[i.which],a=String.fromCharCode(i.which).toLowerCase(),s="",l={};i.altKey&&"alt"!==n&&(s+="alt+"),i.ctrlKey&&"ctrl"!==n&&(s+="ctrl+"),i.metaKey&&!i.ctrlKey&&"meta"!==n&&(s+="meta+"),i.shiftKey&&"shift"!==n&&(s+="shift+"),n?l[s+n]=!0:(l[s+a]=!0,l[s+e.hotkeys.shiftNums[a]]=!0,"shift+"===s&&(l[e.hotkeys.shiftNums[a]]=!0));for(var r=0,c=o.length;r<c;r++)if(l[o[r]])return t.apply(this,arguments)}}}}e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},e.each(["keydown","keyup","keypress"],(function(){e.event.special[this]={add:i}}))}(jQuery),jQuery(document).bind("keydown",(function(e){klik(e)})),$(window).resize((function(){sprawdzenieRozmiaru("resize"),resize()})),$(window).scroll((function(){sprawdzenieRozmiaru("scroll"),resize()})),$(document).on("ajaxComplete",(function(e,i,t){var o=t.url;o=o.substring(0,o.indexOf("?")),_gaq.push(["_trackPageview",o])})),$(document).ready((function(){var e=window.location.hash;e.length>0&&("work"==e.slice(1).split("/")[0]&&(letsAjax(e.slice(1)+".html","no"),$("#portfolio").find("li.active").removeClass("active"),$("#portfolio").find("li").quickEach((function(){$(this).find("a").attr("href").replace(".html","")==e.slice(1)&&$(this).addClass("active")}))));sprawdzenieRozmiaru("resize"),resize(),$(".part").addClass("hide"),$("#portfolio").find("li").addClass("hide"),$("#info").find(".tri span").addClass("oh"),$("body, html").click((function(){navInfoActive("mice")})),$("#welcome").find(".part").removeClass("hide").find(".d").click((function(e){changeSection("next"),e.preventDefault()})),$("#details").off("click",".box").on("click",".box",(function(){return zmianaBoxa("s",$(this).index()),!1})),$("#portfolio").find("a").click((function(){var e=$(this);if(-1!==e.attr("href").indexOf("work")){if(e.parent().is(".active"))letsAjax(e.attr("href"));else slidePortfolio(null,e.parent().index());return!1}})),$("#timeline").find("a").click((function(){var e=$(this).attr("href"),i=$("#portfolio").find('a[href="'+e+'"]').parent().index(),t=$("#details").position();return slidePortfolio(null,i),scrolling=1,$("body, html").stop().animate({scrollTop:t.top},750,(function(){scrolling=0,letsAjax(e)})),!1})),$("#portfolio").find(".nav .arrow.next").click((function(){slidePortfolio("next")})),$("#portfolio").find(".nav .arrow.prev").click((function(){slidePortfolio("prev")})),$("#info").find(".triangle .shape span a").hover((function(){$(this).parents(".triangle").addClass("hover")}),(function(){$(this).parents(".triangle").removeClass("hover")})),$("#info").find(".triangle .text").hover((function(){$(this).parents(".triangle").addClass("hover")}),(function(){$(this).parents(".triangle").removeClass("hover")})),$("header").find("a").click((function(){var e=$(this).attr("name");return"welcome"==e&&$("#details").is(".open")&&closeWork(),changeSection("special",e),!1})),$("body").mousedown((function(e){if(1==e.button)return!1})),$("#timeline").find(".belt li").prepend('<span class="kropka"></span><span class="linia"></span>'),$("header").addClass("hide"),$("#info").find(".more .triangle").click((function(){return slideAbout(null,$(this).attr("rel")),!1})),$("#o").find(".tArrow span").click((function(){return slideAbout(null,$(this).attr("rel")),!1}))}));